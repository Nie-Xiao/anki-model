<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>背面</title>
</head>
<body>


<!-- 内容-->


<div id="classify" class="classify">单选题：</div>
<div class="text">{{Question}}</div>
{{#Options}}
<ol class="options" id="optionList"></ol>
<div id="options" style="display:none">{{Options}}</div>
<div id="answer" style="display:none">{{text:Answer}}</div>
<div>
    <span id="result" class="cloze sformat"></span>
    <span  class="cloze sformat">正确答案：<b id="key" ></b></span>
    <span class="cloze sformat">你的答案：<b id="yourkey"></b></span>
</div>
{{/Options}}
{{#Analyze}}
<hr>
<div id="performance"> 正确率：100%</div><br>
<div class="analyze">解析:{{Analyze}}</div>
<div id="listText"></div>
{{/Analyze}}
<script>
    var classify = document.getElementById("classify"),
        performance = document.getElementById("performance"),
        result = document.getElementById("result"),
        key = document.getElementById("key"),
        yourkey = document.getElementById("yourkey"),
        optionOl = document.getElementById("optionList");
    gData.correctanswer.length > 1 && (classify.innerText = "多选题：");
    optionOl.innerHTML = gData.list;
    if(checkAnswer(gData.clickedValues,gData.correctanswer)){
        gData.correct++;
        result.innerHTML="回答正确！！！";
    }else{
        result.innerHTML="很遗憾，回答错误";
    }
    key.innerHTML = gData.rsltanswer.sort().toString();
    yourkey.innerHTML = gData.clickedValues.toString();
    var percent=((gData.correct/gData.total)*100).toFixed(2)
    performance.innerHTML='本次做题数：'+gData.total+"&nbsp;正确数："+gData.correct+"&nbsp;正确率："+percent+"%"
    var liTags =document.getElementsByTagName("li");
    for(var i in liTags){
        // 正确答案高亮显示
        if(liTags[i].nodeType == 1){
            var liKey = liTags[i].getAttribute("id");
            if(liTags[i].getAttribute("class") == "optionTrue"){
                if(gData.clickedValues.indexOf(liKey) == -1){
                    liTags[i].classList.add("cloze_line");
                }else{
                    liTags[i].classList.add("cloze");
                }
            }
        }
    }
    var inputTags =document.getElementsByTagName("input");
    for(var k=0;k<gData.clickedValues.length;k++){
        var key = gData.clickedValues[k];
        var inputId = "input"+key;
        // 选中已选的
        for(var i=0;i<inputTags.length;i++){
            if(inputTags[i].nodeType){
                if(inputTags[i].getAttribute("id") == inputId){
                    inputTags[i].checked=true;
                    break;
                }
            }
        }
        // 选错的才有删除线
        for(var i=0;i<liTags.length;i++){
            if(liTags[i].getAttribute("class") == "optionFalse" && liTags[i].getAttribute("id") == key) {
                liTags[i].classList.add("wrong");
                break;
            }
        }
    }
</script>

<!-- end-->


</body>
</html>